{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 111ec0b8ee3dfe0bf729","webpack:///./src/upload/config.js","webpack:///./src/upload/lib.js","webpack:///./src/upload/validate.js","webpack:///./src/index_global.js","webpack:///./src/upload/upload.vue","webpack:///./src/upload/upload.vue?cb50","webpack:///./src/upload/upload.vue?037c","webpack:///./node_modules/css-loader/lib/css-base.js","webpack:///./node_modules/vue-style-loader/addStyles.js","webpack:///./src/upload/upload.js","webpack:///./src/upload/ajax.js","webpack:///./src/upload/upload-swf.js","webpack:///./src/upload/format.js","webpack:///./src/upload/upload.vue?9d0b"],"names":["noop","config","uploadUrl","min","max","method","type","isMultiple","fileName","beforeUpload","fn","progress","resBase","size","minWid","minHei","maxWid","maxHei","validate","forceFlash","setConfig","obj","Object","assign","lib","extends","source","target","k","isObject","clone","o","Array","i","len","length","push","j","has","queryString","object","data","key","val","encodeURIComponent","join","getRandomString","$chars","maxPos","pwd","charAt","Math","floor","random","getWidth","dom","offsetWidth","getHeight","offsetHeight","prepend","html","innerHTML","css","sty","newSty","style","fnLoadScript","src","fun","head","document","getElementsByTagName","documentElement","script","createElement","setAttribute","window","attachEvent","onreadystatechange","r","readyState","onload","appendChild","isImg","hasOwnProperty","call","validateConf","conf","selecter","validateType","indexOf","validateSize","validateCap","img","Promise","resolve","reject","width","height","error","complete","install","Vue","name","component","app","module","exports","list","toString","result","item","modules","mediaQuery","alreadyImportedModules","id","lint","file","errorType","split","pop","toLowerCase","uploadAjax","formData","FormData","append","ajax","props","isHtml5","beforeMount","extendConf","File","Date","watch","computed","multiple","mounted","parent","$el","parentElement","uploadSwf","methods","globalConf","upload","e","files","errors","lintFile","success","res","$refs","value","then","url","xhr","XMLHttpRequest","onprogress","event","lengthComputable","percentComplete","loaded","total","open","setRequestHeader","withCredentials","credentials","status","JSON","parse","response","responseText","send","loading","initList","setting","prevent_swf_caching","file_size_limit","file_post_name","file_types","button_text","fnInit","$dom","SWFUpload","_setting","flash_url","button_image_url","upload_url","button_placeholder_id","button_width","button_height","button_cursor","CURSOR","HAND","button_window_mode","WINDOW_MODE","TRANSPARENT","upload_start_handler","settings","file_dialog_complete_handler","startUpload","file_queue_error_handler","a","b","c","upload_success_handler","uploader","create","paramsConfig","format","typeFormat","upload_progress_handler","finish","typeArray","forEach","index","sizeFormat","parseFloat","unit","hihgUnit","unitUp","sizes","parseInt"],"mappings":"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AiB;AAChC;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA,gCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACvNA;AACA;AACA;AACA;AACA;;AAEA,IAAMQ,OAAO,SAAPA,IAAO,CAACC,IAAD,EAAU;AACnB,QAAMP,SAAS;AACXX,eAAO,EADI;AAEXmB,mBAAW;AAFA,KAAf;AAIA,QAAMhH,OAAO+G,KAAKd,IAAL,CAAUgB,KAAV,CAAgB,GAAhB,EAAqBC,GAArB,GAA2BC,WAA3B,EAAb;AACAX,WAAOxG,IAAP,GAAcA,IAAd;AACAwG,WAAOP,IAAP,GAAiB,qDAAA/E,CAAIsB,eAAJ,CAAoB,EAApB,CAAjB,SAA4CxC,IAA5C;;AAEA,QAAI,CAAC,+DAAAqF,CAAaN,IAAb,QAAwBgC,KAAKxG,IAA7B,CAAL,EAAyC;AACrCiG,eAAOX,KAAP,GAAe,YAAf;AACAW,eAAOQ,SAAP,GAAmB,CAAnB;AACH;;AAED,QAAI,CAAC,+DAAA7B,CAAaJ,IAAb,QAAwB/E,IAAxB,CAAL,EAAoC;AAChCwG,eAA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","file":"upload.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 111ec0b8ee3dfe0bf729","const noop = () => {};\n\nexport const config = {\n    uploadUrl: '',\n    min: 0,\n    max: null,\n    method: 'POST',\n    type: '*',\n    isMultiple: false,\n    fileName: 'file',\n    beforeUpload: noop,\n    fn: noop,\n    progress: noop,\n    resBase: '//t.focus-res.cn/front-end/upload/',\n    size: {\n        minWid: null,\n        minHei: null,\n        maxWid: null,\n        maxHei: null,\n        validate: null,\n    },\n    forceFlash: false,\n};\n\nexport const setConfig = (obj) => {\n    Object.assign(config, obj);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/upload/config.js","const lib = {\n    extends(source, target) {\n        for (const k in target) {\n            if (lib.isObject(target[k]) && lib.isObject(source[k])) {\n                lib.extends(source[k], target[k]);\n            } else {\n                source[k] = target[k];\n            }\n        }\n        return source;\n    },\n    clone(obj) {\n        let o;\n        if (typeof obj === 'object') {\n            if (obj === null) {\n                o = null;\n            } else if (obj instanceof Array) {\n                o = [];\n                for (let i = 0, len = obj.length; i < len; i++) {\n                    o.push(this.clone(obj[i]));\n                }\n            } else {\n                o = {};\n                for (const j in obj) {\n                    if (!lib.has(obj, j)) continue;\n                    o[j] = this.clone(obj[j]);\n                }\n            }\n        } else {\n            o = obj;\n        }\n        return o;\n    },\n    isObject(obj) {\n        return typeof obj === 'object' && !(obj instanceof Array);\n    },\n    queryString(object) {\n        const data = [];\n        let key;\n        let val;\n\n        for (key in object) {\n            // if (object.hasOwnProperty(key)) {\n            if (lib.has(object, key)) {\n                val = object[key];\n                data.push(`${key}=${encodeURIComponent(val)}`);\n            }\n        }\n        return data.join('&');\n    },\n    getRandomString(len) {\n        len = len || 32;\n        const $chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678';\n        const maxPos = $chars.length;\n        let pwd = '';\n        for (let i = 0; i < len; i++) {\n            pwd += $chars.charAt(Math.floor(Math.random() * maxPos));\n        }\n        return pwd;\n    },\n    getWidth(dom) {\n        return dom.offsetWidth;\n    },\n    getHeight(dom) {\n        return dom.offsetHeight;\n    },\n    prepend(dom, html) {\n        dom.innerHTML = html + dom.innerHTML;\n    },\n    css(dom, sty, newSty) {\n        if (!newSty) {\n            return dom.style[sty];\n        }\n        dom.style[sty] = newSty;\n        return dom;\n    },\n    fnLoadScript: (src, fun) => {\n        const head = document.getElementsByTagName('head')[0] || document.head || document.documentElement;\n\n        const script = document.createElement('script');\n        script.setAttribute('type', 'text/javascript');\n        script.setAttribute('charset', 'UTF-8');\n        script.setAttribute('src', src);\n\n        if (typeof fun === 'function') {\n            if (window.attachEvent) {\n                script.onreadystatechange = () => {\n                    const r = script.readyState;\n                    if (r === 'loaded' || r === 'complete') {\n                        script.onreadystatechange = null;\n                        fun();\n                    }\n                };\n            } else {\n                script.onload = fun;\n            }\n        }\n\n        head.appendChild(script);\n    },\n    isImg() {\n        return true;\n    },\n    has(obj, key) {\n        return {}.hasOwnProperty.call(obj, key);\n    },\n};\n\nexport default lib;\n\n\n\n// WEBPACK FOOTER //\n// ./src/upload/lib.js","// 返回true 代表合法 false代表不合法\n// 校验conf是否合法\n// 通过call传递this 不能使用箭头函数\nexport const validateConf = function validateConf() {\n    if (!this.conf.uploadUrl || !this.conf.selecter || !this.conf.fn) {\n        return false;\n    }\n\n    return true;\n};\n// 校验类型\nexport const validateType = function validateType(type) {\n    if (this.conf.type === '*') {\n        return true;\n    }\n\n    return !!(this.conf.type.indexOf(type) !== -1);\n};\n// 校验尺寸\nexport const validateSize = function validateSize(size) {\n    return (!this.conf.min || size >= this.conf.min) && (!this.conf.max || size <= this.conf.max);\n};\n// 校验文件大小\nexport const validateCap = function validateCap(img, conf) {\n    return new Promise((resolve, reject) => {\n        const val = (img) => {\n            const width = img.width;\n            const height = img.height;\n            const size = conf.size;\n            if ((size.minWid && width < size.minWid) ||\n                (size.maxWid && width > size.maxWid) ||\n                (size.minHei && height < size.minHei) ||\n                (size.maxHei && height > size.maxHei)\n            ) {\n                /* eslint-disable prefer-promise-reject-errors */\n                reject({\n                    error: '图片尺寸不符合要求!',\n                });\n                /* eslint-disable prefer-promise-reject-errors */\n            } else {\n                resolve();\n            }\n        };\n        if (img.complete) {\n            return val(img);\n        }\n        img.onload = () => val(img);\n\n        return true;\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/upload/validate.js","import app from './upload/upload.vue';\nimport { setConfig } from './upload/config';\n\nconst install = (Vue, config, name = '') => {\n    setConfig(config);\n    Vue.component(name || app.name, app);\n};\n\n/* istanbul ignore if */\nif (typeof window !== 'undefined' && window.Vue) {\n    install(window.Vue);\n}\n\nexport default install;\n// module.exports = {\n//     install,\n// };\n\n\n\n// WEBPACK FOOTER //\n// ./src/index_global.js","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-d1a47e7c&scoped=true!vue-loader/lib/selector?type=styles&index=0!./upload.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!./upload.js\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-d1a47e7c!vue-loader/lib/template-loader?raw&engine=pug!vue-loader/lib/selector?type=template&index=0!./upload.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\nif (Object.keys(__vue_exports__).some(function (key) { return key !== \"default\" && key !== \"__esModule\" })) {console.error(\"named exports are not supported in *.vue files.\")}\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n__vue_options__.__file = \"/Users/chenghaoyao/luobata/libs/vue-plugin-upload/src/upload/upload.vue\"\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-d1a47e7c\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-d1a47e7c\", __vue_options__)\n  } else {\n    hotAPI.reload(\"data-v-d1a47e7c\", __vue_options__)\n  }\n})()}\nif (__vue_options__.functional) {console.error(\"[vue-loader] upload.vue: functional components are not supported and should be defined in plain js files using render functions.\")}\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/upload/upload.vue\n// module id = 4\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-d1a47e7c&scoped=true!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./upload.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-d1a47e7c&scoped=true!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./upload.vue\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-d1a47e7c&scoped=true!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./upload.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?sourceMap!./node_modules/vue-loader/lib/style-rewriter.js?id=data-v-d1a47e7c&scoped=true!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/upload/upload.vue\n// module id = 5\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.upload-html[data-v-d1a47e7c] {\\n    width: 100%;\\n    height: 100%;\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    font-size: 0;\\n}\\n.upload-html .upload-btn[data-v-d1a47e7c] {\\n    width: 100%;\\n    height: 100%;\\n    opacity: 0;\\n    filter: alpha(opacity=0);\\n    cursor: pointer;\\n    z-index: 100;\\n}\\n.upload-swf[data-v-d1a47e7c] {\\n    width: 100%;\\n    height: 100%;\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    overflow: hidden;\\n    opacity: 0;\\n    filter: alpha(opacity=0);\\n    z-index: 100;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/./src/upload/upload.vue?9d097f1c\"],\"names\":[],\"mappings\":\";AAOA;IACA,YAAA;IACA,aAAA;IACA,mBAAA;IACA,OAAA;IACA,QAAA;IACA,aAAA;CACA;AACA;IACA,YAAA;IACA,aAAA;IACA,WAAA;IACA,yBAAA;IACA,gBAAA;IACA,aAAA;CACA;AACA;IACA,YAAA;IACA,aAAA;IACA,mBAAA;IACA,OAAA;IACA,QAAA;IACA,iBAAA;IACA,WAAA;IACA,yBAAA;IACA,aAAA;CACA\",\"file\":\"upload.vue\",\"sourcesContent\":[\"<template lang=\\\"pug\\\">\\n    div.upload-html(v-if=\\\"isHtml5\\\")\\n        input.upload-btn(ref=\\\"upload-btn\\\" type=\\\"file\\\" :multiple=\\\"multiple\\\" @change=\\\"upload\\\")\\n    div.upload-swf(v-else)\\n        span.upload-btn-id(:id=\\\"conf.id\\\")\\n</template>\\n<style scoped>\\n    .upload-html {\\n        width: 100%;\\n        height: 100%;\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        font-size: 0;\\n    }\\n    .upload-html .upload-btn {\\n        width: 100%;\\n        height: 100%;\\n        opacity: 0;\\n        filter: alpha(opacity=0);\\n        cursor: pointer;\\n        z-index: 100;\\n    }\\n    .upload-swf {\\n        width: 100%;\\n        height: 100%;\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        overflow: hidden;\\n        opacity: 0;\\n        filter: alpha(opacity=0);\\n        z-index: 100;\\n    }\\n</style>\\n<script src=\\\"./upload.js\\\">\\n</script>\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?sourceMap!./node_modules/vue-loader/lib/style-rewriter.js?id=data-v-d1a47e7c&scoped=true!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/upload/upload.vue\n// module id = 6\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/css-loader/lib/css-base.js","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\n\t}),\n\tgetHeadElement = memoize(function () {\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [];\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the bottom of <head>.\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar head = getHeadElement();\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\thead.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\thead.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\tstyleElement.type = \"text/css\";\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\tvar sourceMap = obj.sourceMap;\n\n\tif (media) {\n\t\tstyleElement.setAttribute(\"media\", media);\n\t}\n\n\tif (sourceMap) {\n\t\t// https://developer.chrome.com/devtools/docs/javascript-debugging\n\t\t// this makes source maps inside style tags work properly in Chrome\n\t\tcss += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */';\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader/addStyles.js\n// module id = 8\n// module chunks = 0","import lib from './lib';\nimport { config } from './config';\nimport { validateSize, validateType, validateCap } from './validate';\nimport ajax from './ajax';\nimport uploadSwf from './upload-swf';\n\nconst lint = (file) => {\n    const result = {\n        error: '',\n        errorType: 0,\n    };\n    const type = file.name.split('.').pop().toLowerCase();\n    result.type = type;\n    result.name = `${lib.getRandomString(32)}.${type}`;\n\n    if (!validateSize.call(this, file.size)) {\n        result.error = '图片大小不符合要求!';\n        result.errorType = 1;\n    }\n\n    if (!validateType.call(this, type)) {\n        result.error = '图片类型错误!';\n        result.errorType = result.errorType ? 3 : 2;\n        return result;\n    }\n\n    return result;\n};\n\nconst uploadAjax = (file, name, conf) => {\n    const formData = new FormData();\n    // const uploadData = {\n    //    name: conf.fileName,\n    //    file,\n    // };\n    conf.file = file;\n    formData.append(conf.fileName, file);\n    conf.data = formData;\n    ajax(conf);\n};\n\nexport default {\n    name: 'upload',\n    props: {\n        config: {\n            type: Object,\n        },\n    },\n    data() {\n        return {\n            isHtml5: true,\n            conf: {},\n            id: 0,\n        };\n    },\n    beforeMount() {\n        this.extendConf();\n        this.isHtml5 = !!(window.File) && !config.forceFlash;\n        this.conf.id = `id-${+new Date()}`;\n    },\n    watch: {\n        config() {\n            this.extendConf();\n        },\n    },\n    computed: {\n        multiple() {\n            return config.isMultiple;\n        },\n    },\n    mounted() {\n        const parent = this.$el.parentElement;\n\n        if (lib.css(parent, 'position') === 'static' || lib.css(parent, 'position') === '') {\n            lib.css(parent, 'position', 'relative');\n        }\n\n        if (!this.isHtml5) {\n            uploadSwf(this.$el, this.conf);\n        }\n    },\n    methods: {\n        extendConf() {\n            const globalConf = Object.assign({}, config);\n            this.conf = Object.assign(globalConf, this.config);\n        },\n        upload(e) {\n            const file = e.target.files;\n            let i;\n            let item;\n            const errors = [];\n            let error = '';\n\n            for (i = 0; i < file.length; i++) {\n                item = file[i];\n                errors[i] = lint.call(this, item).errorType;\n            }\n            if (errors.indexOf(1) !== -1 || errors.indexOf(3) !== -1) {\n                error += '图片大小不符合要求';\n            }\n            if (errors.indexOf(2) !== -1 || errors.indexOf(3) !== -1) {\n                if (error) error += '、';\n                error += '图片格式不符合要求';\n            }\n            if (error) {\n                this.conf.fn({ error });\n                return;\n            }\n            for (i = 0; i < file.length; i++) {\n                item = file[i];\n                const lintFile = lint.call(this, item);\n                // hack onchange\n                {\n                    const success = this.conf.fn;\n                    this.conf.fn = (res, file) => {\n                        this.$refs['upload-btn'].value = '';\n                        if (this.conf.size && this.conf.size.validate && lib.isImg()) {\n                            validateCap.call(null, this.conf.size.validate(res), this.conf)\n                                .then(() => {\n                                    success.call(this, res, file);\n                                }, (error) => {\n                                    success.call(this, error);\n                                });\n                        } else {\n                            success.call(this, res, file);\n                        }\n                    };\n                }\n                if (typeof this.conf.beforeUpload === 'function') this.conf.beforeUpload(item);\n                uploadAjax(item, lintFile.name, Object.assign({}, this.conf));\n            }\n        },\n    },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/upload/upload.js","const lint = (conf) => {\n    const lintFile = {};\n    if (conf.url) {\n        lintFile.error = '缺少参数url';\n    }\n    return lintFile;\n};\n\nexport default (conf) => {\n    const lintFile = lint(conf);\n    const xhr = new XMLHttpRequest();\n    if (lint.error && conf.fn && typeof conf.fn === 'function') {\n        conf.fn(lintFile);\n        return;\n    }\n    if (xhr.upload) {\n        if (conf.progress && typeof conf.progress === 'function') {\n            (function progress(conf) {\n                xhr.upload.onprogress = (event) => {\n                    if (event.lengthComputable) {\n                        const percentComplete = event.loaded / event.total;\n                        conf.progress(conf.file, percentComplete);\n                    }\n                };\n            }(conf));\n        }\n\n\n        // 开始上传\n        xhr.open(conf.method, conf.uploadUrl, true);\n        xhr.setRequestHeader('Accept', '*/*');\n        xhr.withCredentials = conf.credentials;\n        xhr.onreadystatechange = () => {\n            if (xhr.readyState === 4) {\n                if (xhr.status === 200) {\n                    if (typeof conf.fn === 'function') conf.fn(JSON.parse(xhr.response), conf.file);\n                } else {\n                    conf.fn({\n                        error: `上传失败${xhr.responseText}`,\n                    });\n                }\n            }\n        };\n        xhr.send(conf.data);\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/upload/ajax.js","import lib from './lib';\nimport format from './format';\nimport { config } from './config';\nimport { validateCap } from './validate';\n\nlet loading = false;\nlet initList = [];\n// const SWFUpload = window.SWFUpload;\n\nconst setting = {\n    prevent_swf_caching: false,\n    file_size_limit: '1 MB',\n    file_post_name: 'file',\n    file_types: '*.jpg;*.png;*.gif;*.jpeg',\n    button_text: '',\n};\n\nconst fnInit = ($dom, conf) => {\n    const height = lib.getHeight($dom);\n    const width = lib.getWidth($dom);\n    const SWFUpload = window.SWFUpload;\n\n    const _setting = lib.extends(setting, {\n        flash_url: `${config.resBase}swfupload.swf`,\n        button_image_url: `${config.resBase}swfupload.js?button_image_url`,\n        upload_url: conf.uploadUrl,\n        button_placeholder_id: conf.id,\n        button_width: width,\n        button_height: height,\n        button_cursor: SWFUpload.CURSOR.HAND,\n        button_window_mode: SWFUpload.WINDOW_MODE.TRANSPARENT,\n        conf,\n        upload_start_handler() {\n            this.settings.conf.beforeUpload();\n        },\n        file_dialog_complete_handler() {\n            this.startUpload();\n        },\n        file_queue_error_handler(a, b, c) {\n            this.settings.conf.fn(b, c);\n        },\n        // upload_success_handler(a, b, c) {\n        upload_success_handler(a, b) {\n            this.settings.conf.fn(b, a);\n        },\n    });\n\n    /* eslint-disable no-new */\n    new SWFUpload(lib.clone(_setting));\n    /* eslint-disable no-new */\n};\nconst uploader = {\n    create($dom, conf) {\n        if (window.SWFUpload) {\n            fnInit($dom, conf);\n        } else {\n            initList.push([$dom, conf]);\n\n            if (loading) {\n                return;\n            }\n\n            loading = true;\n            lib.fnLoadScript(`${config.resBase}swfupload.js`, () => {\n                loading = false;\n\n                let i;\n                let item;\n                for (i = 0; i < initList.length; i++) {\n                    item = initList[i];\n                    fnInit(item[0], item[1]);\n                }\n                initList = [];\n            });\n        }\n    },\n    config(paramsConfig) {\n        lib.extends(setting, paramsConfig);\n    },\n};\n\nfunction upload(dom, conf) {\n    if (dom) {\n        uploader.config({\n            // file_size_limit: format.sizeFormat(conf.max),\n            file_size_limit: `${conf.max}B`,\n            file_post_name: conf.fileName,\n            file_types: format.typeFormat(conf.type),\n            upload_progress_handler: conf.progress,\n            button_placeholder_id: 'selectFiles4',\n        });\n        const fn = conf.fn;\n        conf.fn = function finish(response, file) {\n            // 校验大小\n            if (typeof response === 'string') {\n                response = JSON.parse(response);\n            }\n            if (response === -110) {\n                response = {\n                    error: '图片大小不符合要求',\n                };\n            }\n            if (!lib.has(response, 'error') && conf.size && conf.size.validate && lib.isImg()) {\n                validateCap.call(null, conf.size.validate(response), conf)\n                    .then(() => {\n                        fn.call(this, response, file);\n                    }, (error) => {\n                        fn.call(this, error);\n                    });\n            } else {\n                fn.call(this, response, file);\n            }\n        };\n        uploader.create(dom, conf);\n    }\n}\nexport default upload;\n\n\n\n// WEBPACK FOOTER //\n// ./src/upload/upload-swf.js","export default {\n    typeFormat(typeArray) {\n        if (typeArray === '*') return '*';\n        if (!typeArray || !typeArray.length) return '';\n        typeArray.forEach((item, index) => {\n            typeArray[index] = `*.${item}`;\n        });\n        return typeArray.join(';');\n    },\n    sizeFormat(size) {\n        if (!size || !parseFloat(size, 10)) return '0B';\n        let unit = 'B';\n        const hihgUnit = (unit) => {\n            let unitUp = 'B';\n            switch (unit) {\n            case 'B':\n                unitUp = 'KB';\n                break;\n            case 'KB':\n                unitUp = 'MB';\n                break;\n            case 'MB':\n                unitUp = 'GB';\n                break;\n            case 'GB':\n                unitUp = 'TB';\n                break;\n            default:\n                break;\n            }\n            return unitUp;\n        };\n        let sizes = parseInt(size, 10);\n        while (sizes > 1024) {\n            unit = hihgUnit(unit);\n            sizes = parseFloat(sizes / 1024, 10);\n        }\n\n        return `${sizes} ${unit}`;\n    },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/upload/format.js","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return (_vm.isHtml5) ? _c('div', {\n    staticClass: \"upload-html\"\n  }, [_c('input', {\n    ref: \"upload-btn\",\n    staticClass: \"upload-btn\",\n    attrs: {\n      \"type\": \"file\",\n      \"multiple\": _vm.multiple\n    },\n    on: {\n      \"change\": _vm.upload\n    }\n  })]) : _c('div', {\n    staticClass: \"upload-swf\"\n  }, [_c('span', {\n    staticClass: \"upload-btn-id\",\n    attrs: {\n      \"id\": _vm.conf.id\n    }\n  })])\n},staticRenderFns: []}\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-d1a47e7c\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler.js?id=data-v-d1a47e7c!./node_modules/vue-loader/lib/template-loader.js?raw&engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/upload/upload.vue\n// module id = 13\n// module chunks = 0"],"sourceRoot":""}